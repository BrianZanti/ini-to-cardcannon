[epic-admin-user-index]
title = Epic: Admin User Index Page
labels: inbox, admin, user
story_text: ## Admin's User Index Page
    The index page indicated in these stories should be namespaced under a route "/admin/users". This route should only be accessible to admin users of your application. Any functionality mentioned in this epic should be performed by admin users only, and respective routes should all be namespaced under "/admin"


[admin-user-index-page]
title: Admin User Index Page
labels: admin, user
child_of: epic-admin-user-index
depends_on: admin-navigation
story_text: As an admin user
    When I click on the "Users" link in the nav
    Then my current URI route is "/admin/users"
    And I see all users in the system who are not merchants nor admins
    Each user's name is a link to a show page for that user ("/admin/users/5")
    Next to each user's name is the date they registered
    I see a "disable" button next to any users who are not yet disabled
    I see an "enable" button next to any users whose accounts are disabled


[admin-disables-a-user]
title: Admin disables a user account
labels: admin, user
child_of: epic-admin-user-index
depends_on: admin-user-index-page
story_text: As an admin user
    When I visit the user index page
    And I click on a "disable" button for an enabled user
    I am returned to the admin's user index page
    And I see a flash message that the user's account is now disabled
    And I see that the user's account is now disabled
    This user cannot log in


[admin-enables-a-user]
title: Admin enables a user account
labels: admin, user
child_of: epic-admin-user-index
depends_on: admin-user-index-page
story_text: As an admin user
    When I visit the user index page
    And I click on a "enable" button for a disabled user
    I am returned to the admin's user index page
    And I see a flash message that the user's account is now enabled
    And I see that the user's account is now enabled
    This user can now log in
